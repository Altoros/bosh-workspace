meta:
  ipmask: (( merge ))
  security_groups: (( merge ))
  subnet_ids:
    cf1: (( merge ))
    cf2: ~
  availability_zones: (( merge ))

networks:
  - name: cf1
    type: manual
    subnets:
      - range: (( meta.ipmask ".3.0/24" ))
        name: default_unused
        reserved:
          - (( meta.ipmask ".3.2 - " meta.ipmask ".3.5" ))
        static:
          - (( meta.ipmask ".3.10 - " meta.ipmask ".3.100" ))
        gateway: (( meta.ipmask ".3.1" ))
        dns:
          - (( meta.ipmask ".0.2" ))
        cloud_properties:
          security_groups: (( meta.security_groups ))
          subnet: (( meta.subnet_ids.cf1 ))
          availability_zone: (( meta.availability_zones.cf1 ))

  - name: cf2
    type: manual
    subnets:
      - range: (( meta.ipmask ".4.0/24" ))
        name: default_unused
        reserved:
          - (( meta.ipmask ".4.2 - " meta.ipmask ".4.5" ))
        static:
          - (( meta.ipmask ".4.10 - " meta.ipmask ".4.100" ))
        gateway: (( meta.ipmask ".4.1" ))
        dns:
          - (( meta.ipmask ".0.2" ))
        cloud_properties:
          security_groups: (( meta.security_groups ))
          subnet: (( meta.subnet_ids.cf2 ))
          availability_zone: (( meta.availability_zones.cf2 ))

  - name: floating
    type: vip
    cloud_properties: {}
