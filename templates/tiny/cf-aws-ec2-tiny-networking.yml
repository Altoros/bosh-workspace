meta:
  subnet_ids:
    cf1: (( merge ))
    cf2: ~

networks:
  - name: cf1
    type: manual
    subnets:
      - range: IPMASK.3.0/24
        name: default_unused
        reserved:
          - IPMASK.3.2 - IPMASK.3.5
        static:
          - IPMASK.3.100 - IPMASK.3.160
        gateway: IPMASK.3.1
        dns:
          - IPMASK.0.2
        cloud_properties:
          security_groups:
            - CF_SG
          subnet: (( meta.subnet_ids.cf1 ))

  - name: cf2
    type: manual
    subnets:
      - range: IPMASK.2.0/20
        name: default_unused
        reserved:
          - IPMASK.2.2 - IPMASK.2.5
        static:
          - IPMASK.2.60 - IPMASK.2.90
        gateway: IPMASK.2.1
        dns:
          - IPMASK.0.2
        cloud_properties:
          security_groups:
            - CF_SG
          subnet: (( meta.subnet_ids.cf2 ))

  - name: floating
    type: vip
    cloud_properties: {}

resource_pools:
  - name: small_z1
    cloud_properties:
      instance_type: m3.medium

  - name: small_z2
    cloud_properties:
      instance_type: m3.medium

  - name: medium_z1
    cloud_properties:
      instance_type: m3.large

  - name: medium_z2
    cloud_properties:
      instance_type: m3.large

  - name: large_z1
    cloud_properties:
      instance_type: m3.xlarge

  - name: large_z2
    cloud_properties:
      instance_type: m3.xlarge

  - name: runner_z1
    cloud_properties:
      instance_type: m3.large

  - name: runner_z2
    cloud_properties:
      instance_type: m3.large

  - name: router_z1
    cloud_properties:
      instance_type: m3.medium

  - name: router_z2
    cloud_properties:
      instance_type: m3.medium

  - name: small_errand
    cloud_properties:
      instance_type: m3.medium


properties:
  # use nfs
  template_only:
    aws:
      <<: (( merge ))
      access_key_id: ~
      secret_access_key: ~
  cc:
    resource_pool:
      fog_connection: ~
    packages:
      fog_connection: ~
    droplets:
      fog_connection: ~
    buildpacks:
      fog_connection: ~
